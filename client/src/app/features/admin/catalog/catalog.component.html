<form>
  <div class="mb-4">
    <mat-form-field class="w-full">
      <mat-label>Name</mat-label>
      <input matInput [(ngModel)]="productForm.name" name="name" required />
    </mat-form-field>
  </div>

  <div class="mb-4">
    <mat-form-field class="w-full">
      <mat-label>Description</mat-label>
      <input matInput [(ngModel)]="productForm.description" name="description" required />
    </mat-form-field>
  </div>

  <div class="mb-4">
    <mat-form-field class="w-full">
      <mat-label>Price</mat-label>
      <input matInput type="number" [(ngModel)]="productForm.price" name="price" required />
    </mat-form-field>
  </div>

  <div class="mb-4">
    <mat-form-field class="w-full">
      <mat-label>Brand</mat-label>
      <input matInput [(ngModel)]="productForm.brand" name="brand" required />
    </mat-form-field>
  </div>

  <div class="mb-4">
    <mat-form-field class="w-full">
      <mat-label>Stock Quantity</mat-label>
      <input matInput type="number" [(ngModel)]="productForm.stockQuantity" name="stockQuantity" required />
    </mat-form-field>
  </div>

  <div class="mb-4">
    <uc-config
      ctx-name="my-uploader"
      pubkey="{{uploadCarePublicKey}}"
    ></uc-config>

    <uc-file-uploader-regular
      ctx-name="my-uploader"
      class="uc-light"
    ></uc-file-uploader-regular>

    <uc-upload-ctx-provider ctx-name="my-uploader" #ctxProvider></uc-upload-ctx-provider>
  </div>

  <mat-form-field class="w-full">
        <mat-select placeholder="Select Category" [(value)]="selectedCategory" (selectionChange)="onCategoryChange()">
          <mat-option *ngFor="let category of categories" [value]="category">
            {{ category.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>

  <div *ngIf="selectedCategory" class="mt-4">
    <h3 class="text-lg font-semibold mb-2">Add Product for {{ selectedCategory.name }}</h3>
  <div *ngFor="let spec of selectedCategory!.specifications" class="mb-4">
    <mat-form-field class="w-full">
      <mat-label>{{ spec.name }}</mat-label>
      <input matInput [(ngModel)]="productForm[spec.name]" name="{{ spec.name }}" />
    </mat-form-field>
  </div>

  <button mat-raised-button color="primary" (click)="addProduct()">Add Product</button>
  </div>
</form>

